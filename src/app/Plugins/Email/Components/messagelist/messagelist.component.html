<p *ngIf='!fetchingMails && fetchingError'>There was an error fetching messages from the backend</p>

<mat-spinner *ngIf=fetchingMails [diameter]=30></mat-spinner>

<button mat-raised-button *ngIf=!fetchingMails (click)='refresh()'>REFRESH</button>

<mat-tab-group mat-stretch-tabs (selectedTabChange)='tabChanged($event)'>
    <mat-tab label='All'>
    </mat-tab>
    <mat-tab label='Important'>
    </mat-tab>
</mat-tab-group>
<mat-accordion>
    <div *ngFor="let message of messages; let i = index">
        <mat-expansion-panel *ngIf='showAll || message.important'>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    <span [ngClass]="{'unseenMail': !message.seen, 'importantMail': message.important}">{{message.from}}</span>
                </mat-panel-title>

                <mat-panel-description>
                    <strong *ngIf=!message.seen>{{message.subject}}</strong>
                    <span *ngIf=message.seen>{{message.subject}}</span>
                </mat-panel-description>
            </mat-expansion-panel-header>
            {{message.content}}
        </mat-expansion-panel>
    </div>
</mat-accordion>